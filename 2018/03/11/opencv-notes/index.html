


<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="HandheldFriendly" content="true">
  
    <meta name="google-site-verification" content="Sf3TQAKc2EfeBR3ltsbYlbX06bHJ4-QbsC_7Jko3zZ8">
  
  
    <meta name="baidu-site-verification" content="lkLxPcUTqE">
  
  <script>
  (function(d) {
    var config = {
      kitId: 'xoy5jfw',
      scriptTimeout: 3000,
      async: true
    },
    h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
  })(document);
  </script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-128956609-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-128956609-1');
</script>



  <title>OpenCV 笔记 — 矩形边缘检测算法 | ツキの月</title>
  
    <!-- stylesheets list from _config.yml -->
    
      <link rel="stylesheet" href="/css/shiro.css">
    
      <link rel="stylesheet" href="/css/layout.css">
    
      <link rel="stylesheet" href="/css/post.css">
    
      <link rel="stylesheet" href="/css/content.css">
    
      <link rel="stylesheet" href="/css/highlight.css">
    
      <link rel="stylesheet" href="/lib/soraka/soraka.css">
    
      <link rel="stylesheet" href="/lib/typo.css/typo.css">
    
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
</head>
<body class="serif">

<div id="header">
  <a href="/">
    <div id="title">
      <h1>ツキの月</h1>
    </div>
  </a>
</div>

<div id="menu-outer">
  <div id="menu-inner">
    
      <a href="/">Blog</a>
    
      <a href="/about">About</a>
    
  </div>
</div>

<div id="content-outer">
  <div id="content-inner" class="content typo">
    
<article id="post">
<header>
  <h1>OpenCV 笔记 — 矩形边缘检测算法</h1>
  <div class="meta">
  <span class="page-date">
  <time datetime="2018-03-11T10:30:10.000Z">
            2018-03-11
  </time>
  </span>
  
  <span class="tag-link">
        <a href="/tags/OpenCV/">
          #OpenCV
        </a>
  </span>
      
  </div>
</header>
  &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css&#34; integrity=&#34;sha384-9tPv11A+glH/on/wEu99NVwDPwkMQESOocs/ZGXPoIiLE8MU/qkqUcZ3zzL+6DuH&#34; crossorigin=&#34;anonymous&#34;&gt;&lt;ol type=&#34;1&#34;&gt;
&lt;li&gt;&lt;p&gt;&amp;#x53BB;&amp;#x566A;&lt;/p&gt;
&lt;p&gt;&amp;#x4F7F;&amp;#x7528; &lt;code&gt;medianBlur&lt;/code&gt; &amp;#x4E2D;&amp;#x503C;&amp;#x6EE4;&amp;#x6CE2;&amp;#x7B97;&amp;#x6CD5;&amp;#x5BF9;&amp;#x56FE;&amp;#x50CF;&amp;#x53BB;&amp;#x566A;&amp;#x3002;&amp;#x4E2D;&amp;#x503C;&amp;#x6EE4;&amp;#x6CE2;&amp;#x4EE5;&amp;#x50CF;&amp;#x7D20;&amp;#x70B9;&amp;#x90BB;&amp;#x57DF;&amp;#x7070;&amp;#x5EA6;&amp;#x503C;&amp;#x7684;&amp;#x4E2D;&amp;#x503C;&amp;#x6765;&amp;#x4EE3;&amp;#x66FF;&amp;#x8BE5;&amp;#x50CF;&amp;#x7D20;&amp;#x70B9;&amp;#x7684;&amp;#x7070;&amp;#x5EA6;&amp;#xFF0C;&amp;#x80FD;&amp;#x591F;&amp;#x8F83;&amp;#x597D;&amp;#x7684;&amp;#x4FDD;&amp;#x7559;&amp;#x56FE;&amp;#x50CF;&amp;#x7684;&amp;#x8FB9;&amp;#x7F18;&amp;#x7EC6;&amp;#x8282;&amp;#xFF0C;&amp;#x6709;&amp;#x52A9;&amp;#x4E8E;&amp;#x8FB9;&amp;#x7F18;&amp;#x7684;&amp;#x68C0;&amp;#x6D4B;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;medianBlur&lt;/code&gt; &amp;#x7B97;&amp;#x6CD5;&amp;#x7684;&amp;#x51FD;&amp;#x6570;&amp;#x539F;&amp;#x578B;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&#34;highlight cpp&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;CV_EXPORTS_W &lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;medianBlur&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;params&#34;&gt;    InputArray src, OutputArray dst, &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; ksize&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;params&#34;&gt; )&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x8FB9;&amp;#x7F18;&amp;#x68C0;&amp;#x6D4B;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Canny&lt;/code&gt; &amp;#x8FB9;&amp;#x7F18;&amp;#x68C0;&amp;#x6D4B;&amp;#x7B97;&amp;#x6CD5;&amp;#x7684;&amp;#x51FD;&amp;#x6570;&amp;#x539F;&amp;#x578B;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&#34;highlight cpp&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;CV_EXPORTS_W &lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;Canny&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;( &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;params&#34;&gt;     InputArray image, OutputArray edges,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;params&#34;&gt;     &lt;span class=&#34;keyword&#34;&gt;double&lt;/span&gt; threshold1, &lt;span class=&#34;keyword&#34;&gt;double&lt;/span&gt; threshold2,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;params&#34;&gt;     &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; apertureSize = &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;, &lt;span class=&#34;keyword&#34;&gt;bool&lt;/span&gt; L2gradient = &lt;span class=&#34;literal&#34;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;params&#34;&gt; )&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;Canny&lt;/code&gt; &amp;#x7B97;&amp;#x6CD5;&amp;#x901A;&amp;#x8FC7;&amp;#x6C42;&amp;#x89E3;&amp;#x6BCF;&amp;#x4E00;&amp;#x50CF;&amp;#x7D20;&amp;#x70B9;&amp;#x9644;&amp;#x8FD1;&amp;#x7684;&amp;#x68AF;&amp;#x5EA6;&amp;#x5E45;&amp;#x5EA6;&amp;#x4E0E;&amp;#x65B9;&amp;#x5411;&amp;#x6765;&amp;#x5224;&amp;#x65AD;&amp;#x8BE5;&amp;#x70B9;&amp;#x662F;&amp;#x5426;&amp;#x4E3A;&amp;#x8FB9;&amp;#x7F18;&amp;#x70B9;&amp;#x3002;&amp;#x5177;&amp;#x4F53;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E2D;&amp;#xFF0C;&amp;#x8FD8;&amp;#x62E5;&amp;#x6709;&amp;#x4E24;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570; &lt;code&gt;threshould1&lt;/code&gt; &amp;#x4E0E; &lt;code&gt;threshould2&lt;/code&gt;&amp;#xFF0C;&amp;#x4F5C;&amp;#x4E3A;&amp;#x4E3A; &lt;code&gt;Canny&lt;/code&gt; &amp;#x7B97;&amp;#x6CD5;&amp;#x7684;&amp;#x6EDE;&amp;#x540E;&amp;#x9608;&amp;#x503C;&amp;#xFF1A;&lt;/p&gt;
&lt;ol type=&#34;1&#34;&gt;
&lt;li&gt;&amp;#x5982;&amp;#x679C;&amp;#x67D0;&amp;#x4E00;&amp;#x50CF;&amp;#x7D20;&amp;#x4F4D;&amp;#x7F6E;&amp;#x7684;&amp;#x5E45;&amp;#x503C;&amp;#x8D85;&amp;#x8FC7;&amp;#x9AD8;&amp;#x9608;&amp;#x503C;&amp;#xFF0C; &amp;#x8BE5;&amp;#x50CF;&amp;#x7D20;&amp;#x88AB;&amp;#x4FDD;&amp;#x7559;&amp;#x4E3A;&amp;#x8FB9;&amp;#x7F18;&amp;#x50CF;&amp;#x7D20;&amp;#xFF1B;&lt;/li&gt;
&lt;li&gt;&amp;#x5982;&amp;#x679C;&amp;#x67D0;&amp;#x4E00;&amp;#x50CF;&amp;#x7D20;&amp;#x4F4D;&amp;#x7F6E;&amp;#x7684;&amp;#x5E45;&amp;#x503C;&amp;#x5C0F;&amp;#x4E8E;&amp;#x4F4E;&amp;#x9608;&amp;#x503C;&amp;#xFF0C;&amp;#x8BE5;&amp;#x50CF;&amp;#x7D20;&amp;#x88AB;&amp;#x6392;&amp;#x9664;&amp;#xFF1B;&lt;/li&gt;
&lt;li&gt;&amp;#x5982;&amp;#x679C;&amp;#x67D0;&amp;#x4E00;&amp;#x50CF;&amp;#x7D20;&amp;#x7684;&amp;#x5E45;&amp;#x503C;&amp;#x5728;&amp;#x4E24;&amp;#x4E2A;&amp;#x9608;&amp;#x503C;&amp;#x4E4B;&amp;#x95F4;&amp;#xFF0C;&amp;#x5219;&amp;#x53EA;&amp;#x6709;&amp;#x5F53;&amp;#x8BE5;&amp;#x50CF;&amp;#x7D20;&amp;#x4E0E;&amp;#x4E00;&amp;#x4E2A;&amp;#x9AD8;&amp;#x4E8E;&amp;#x9AD8;&amp;#x9608;&amp;#x503C;&amp;#x7684;&amp;#x50CF;&amp;#x7D20;&amp;#x76F8;&amp;#x90BB;&amp;#x65F6;&amp;#xFF0C;&amp;#x8BE5;&amp;#x50CF;&amp;#x7D20;&amp;#x88AB;&amp;#x4FDD;&amp;#x7559;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x6D4B;&amp;#x8BD5;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8C03;&amp;#x6574;&amp;#x53C2;&amp;#x6570;&amp;#x4E3A; &lt;code&gt;threshould1 = 10, threshould2 = 20&lt;/code&gt;&amp;#x3002;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x81A8;&amp;#x80C0;&amp;#x8FB9;&amp;#x7F18;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dilate&lt;/code&gt; &amp;#x7B97;&amp;#x6CD5;&amp;#x662F; &lt;code&gt;OpenCV&lt;/code&gt; &amp;#x7684;&amp;#x5F62;&amp;#x6001;&amp;#x5B66;&amp;#x7B97;&amp;#x6CD5;&amp;#x4E4B;&amp;#x4E00;&amp;#xFF0C;&amp;#x5176;&amp;#x53EF;&amp;#x4EE5;&amp;#x5BF9;&amp;#x5F62;&amp;#x72B6;&amp;#x8FDB;&amp;#x884C;&amp;#x300C;&amp;#x81A8;&amp;#x80C0;&amp;#x300D; &amp;#x3002;&amp;#x5229;&amp;#x7528; &lt;code&gt;dilate&lt;/code&gt; &amp;#x7B97;&amp;#x6CD5;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x53BB;&amp;#x9664;&amp;#x7B2C;&amp;#x4E8C;&amp;#x6B65;&amp;#x4E2D;&amp;#x56E0;&amp;#x5C40;&amp;#x90E8;&amp;#x566A;&amp;#x70B9;&amp;#x4EA7;&amp;#x751F;&amp;#x7684;&amp;#x5B54;&amp;#x6D1E;&amp;#xFF0C;&amp;#x4EE5;&amp;#x9632;&amp;#x6B62;&amp;#x4E0B;&amp;#x4E00;&amp;#x6B65;&amp;#x5BF9;&amp;#x8F6E;&amp;#x5ED3;&amp;#x63A2;&amp;#x6D4B;&amp;#x7684;&amp;#x5F71;&amp;#x54CD;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dilate&lt;/code&gt; &amp;#x7B97;&amp;#x6CD5;&amp;#x7684;&amp;#x51FD;&amp;#x6570;&amp;#x539F;&amp;#x578B;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&#34;highlight cpp&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;CV_EXPORTS_W &lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;dilate&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;( InputArray src, OutputArray dst, InputArray kernel,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                          Point anchor = Point(-1,-1), int iterations = 1,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                          &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; borderType = BORDER_CONSTANT,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                          &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; Scalar&amp;amp; borderValue = morphologyDefaultBorderValue() );&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x8F6E;&amp;#x5ED3;&amp;#x63A2;&amp;#x6D4B;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;findContour&lt;/code&gt; &amp;#x7B97;&amp;#x6CD5;&amp;#x662F; &lt;code&gt;OpenCV&lt;/code&gt; &amp;#x6240;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x8F6E;&amp;#x5ED3;&amp;#x63A2;&amp;#x6D4B;&amp;#x7B97;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5176;&amp;#x51FD;&amp;#x6570;&amp;#x539F;&amp;#x578B;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&#34;highlight&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;CV_EXPORTS &lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;findContours&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;( InputOutputArray image, OutputArrayOfArrays contours,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                              int mode, int method, Point offset = Point());&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x53C2;&amp;#x6570; &lt;code&gt;mode&lt;/code&gt; &amp;#x5B9A;&amp;#x4E49;&amp;#x8F6E;&amp;#x5ED3;&amp;#x7684;&amp;#x68C0;&amp;#x7D22;&amp;#x6A21;&amp;#x5F0F;&amp;#x3002;&amp;#x6709;&amp;#x5982;&amp;#x4E0B;&amp;#x51E0;&amp;#x4E2A;&amp;#x53D6;&amp;#x503C;&amp;#xFF1A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;CV_RETR_EXTERNAL&lt;/code&gt; &amp;#x53EA;&amp;#x68C0;&amp;#x6D4B;&amp;#x6700;&amp;#x5916;&amp;#x56F4;&amp;#x8F6E;&amp;#x5ED3;&amp;#xFF1B;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CV_RETR_LIST&lt;/code&gt; &amp;#x68C0;&amp;#x6D4B;&amp;#x6240;&amp;#x6709;&amp;#x7684;&amp;#x8F6E;&amp;#x5ED3;&amp;#xFF0C;&amp;#x5305;&amp;#x62EC;&amp;#x5185;&amp;#x56F4;&amp;#x3001;&amp;#x5916;&amp;#x56F4;&amp;#x8F6E;&amp;#x5ED3;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x68C0;&amp;#x6D4B;&amp;#x5230;&amp;#x7684;&amp;#x8F6E;&amp;#x5ED3;&amp;#x4E0D;&amp;#x5EFA;&amp;#x7ACB;&amp;#x7B49;&amp;#x7EA7;&amp;#x5173;&amp;#x7CFB;&amp;#xFF1B;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CV_RETR_CCOMP&lt;/code&gt; &amp;#x68C0;&amp;#x6D4B;&amp;#x6240;&amp;#x6709;&amp;#x7684;&amp;#x8F6E;&amp;#x5ED3;&amp;#xFF0C;&amp;#x4F46;&amp;#x6240;&amp;#x6709;&amp;#x8F6E;&amp;#x5ED3;&amp;#x53EA;&amp;#x5EFA;&amp;#x7ACB;&amp;#x4E24;&amp;#x4E2A;&amp;#x7B49;&amp;#x7EA7;&amp;#x5173;&amp;#x7CFB;&amp;#xFF1B;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CV_RETR_TREE&lt;/code&gt; &amp;#x68C0;&amp;#x6D4B;&amp;#x6240;&amp;#x6709;&amp;#x8F6E;&amp;#x5ED3;&amp;#xFF0C;&amp;#x6240;&amp;#x6709;&amp;#x8F6E;&amp;#x5ED3;&amp;#x5EFA;&amp;#x7ACB;&amp;#x4E00;&amp;#x4E2A;&amp;#x7B49;&amp;#x7EA7;&amp;#x6811;&amp;#x7ED3;&amp;#x6784;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x53C2;&amp;#x6570; &lt;code&gt;method&lt;/code&gt; &amp;#x5B9A;&amp;#x4E49;&amp;#x8F6E;&amp;#x5ED3;&amp;#x7684;&amp;#x8FD1;&amp;#x4F3C;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x6709;&amp;#x5982;&amp;#x4E0B;&amp;#x51E0;&amp;#x4E2A;&amp;#x53D6;&amp;#x503C;&amp;#xFF1A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;CV_CHAIN_APPROX_NONE&lt;/code&gt; &amp;#x4FDD;&amp;#x5B58;&amp;#x7269;&amp;#x4F53;&amp;#x8FB9;&amp;#x754C;&amp;#x4E0A;&amp;#x6240;&amp;#x6709;&amp;#x8FDE;&amp;#x7EED;&amp;#x7684;&amp;#x8F6E;&amp;#x5ED3;&amp;#x70B9;&amp;#x5230; &lt;code&gt;contours&lt;/code&gt; &amp;#x5411;&amp;#x91CF;&amp;#x5185;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CV_CHAIN_APPROX_SIMPLE&lt;/code&gt; &amp;#x4EC5;&amp;#x4FDD;&amp;#x5B58;&amp;#x8F6E;&amp;#x5ED3;&amp;#x7684;&amp;#x62D0;&amp;#x70B9;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x628A;&amp;#x6240;&amp;#x6709;&amp;#x8F6E;&amp;#x5ED3;&amp;#x62D0;&amp;#x70B9;&amp;#x5904;&amp;#x7684;&amp;#x70B9;&amp;#x4FDD;&amp;#x5B58;&amp;#x5165; &lt;code&gt;contours&lt;/code&gt; &amp;#x5411;&amp;#x91CF;&amp;#x5185;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x6839;&amp;#x636E;&amp;#x5B9E;&amp;#x9645;&amp;#x76EE;&amp;#x7684;&amp;#xFF0C;&amp;#x5E94;&amp;#x9009;&amp;#x62E9; &lt;code&gt;CV_RETR_LIST&lt;/code&gt; &amp;#x4E0E; &lt;code&gt;CV_CHAIN_APPROX_SIMPLE&lt;/code&gt; &amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x53D6;&amp;#x503C;&amp;#x3002;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x6D4B;&amp;#x8BD5;&amp;#x627E;&amp;#x5230;&amp;#x7684;&amp;#x8F6E;&amp;#x5ED3;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;findContour&lt;/code&gt; &amp;#x6240;&amp;#x627E;&amp;#x5230;&amp;#x7684;&amp;#x8F6E;&amp;#x5ED3;&amp;#x5305;&amp;#x542B;&amp;#x5404;&amp;#x79CD;&amp;#x5404;&amp;#x6837;&amp;#x7684;&amp;#x5F62;&amp;#x72B6;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x5BF9;&amp;#x4E0A;&amp;#x4E00;&amp;#x90E8;&amp;#x4E2D;&amp;#x7684;&amp;#x6BCF;&amp;#x4E2A;&amp;#x8F6E;&amp;#x5ED3;&amp;#x8FDB;&amp;#x884C;&amp;#x6D4B;&amp;#x8BD5;&amp;#xFF0C;&amp;#x7B5B;&amp;#x9009;&amp;#x51FA;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x77E9;&amp;#x5F62;&amp;#x3002;&lt;/p&gt;
&lt;ol type=&#34;1&#34;&gt;
&lt;li&gt;&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x5229;&amp;#x7528; &lt;code&gt;approxPolyDP&lt;/code&gt; &amp;#x5BF9;&amp;#x8F6E;&amp;#x5ED3;&amp;#x8FDB;&amp;#x884C;&amp;#x591A;&amp;#x8FB9;&amp;#x5F62;&amp;#x62DF;&amp;#x5408;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x5229;&amp;#x7528; &lt;code&gt;arcLength&lt;/code&gt; &amp;#x51FD;&amp;#x6570;&amp;#x8BA1;&amp;#x7B97;&amp;#x6BCF;&amp;#x4E2A;&amp;#x8F6E;&amp;#x5ED3;&amp;#x7684;&amp;#x5468;&amp;#x957F;&amp;#xFF0C;&amp;#x6765;&amp;#x8BBE;&amp;#x7F6E;&amp;#x591A;&amp;#x8FB9;&amp;#x5F62;&amp;#x62DF;&amp;#x5408;&amp;#x7684;&amp;#x7CBE;&amp;#x5EA6;&amp;#xFF1B;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x77E9;&amp;#x5F62;&amp;#x8FDB;&amp;#x884C;&amp;#x5224;&amp;#x65AD;&amp;#x3002;&amp;#x663E;&amp;#x7136;&amp;#xFF0C;&amp;#x4E00;&amp;#x4E2A;&amp;#x77E9;&amp;#x5F62;&amp;#x62E5;&amp;#x6709;&amp;#x56DB;&amp;#x4E2A;&amp;#x9876;&amp;#x70B9;&amp;#xFF0C;&amp;#x4E14;&amp;#x4E3A;&amp;#x4E00;&amp;#x4E2A;&amp;#x51F8;&amp;#x5305;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x5229;&amp;#x7528; &lt;code&gt;isContourConvex&lt;/code&gt; &amp;#x6765;&amp;#x5BF9;&amp;#x591A;&amp;#x8FB9;&amp;#x5F62;&amp;#x662F;&amp;#x5426;&amp;#x4E3A;&amp;#x51F8;&amp;#x5305;&amp;#x8FDB;&amp;#x884C;&amp;#x5224;&amp;#x65AD;&amp;#x3002;&amp;#x540C;&amp;#x65F6;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD8;&amp;#x5229;&amp;#x7528; &lt;code&gt;contourArea&lt;/code&gt; &amp;#x8BA1;&amp;#x7B97;&amp;#x591A;&amp;#x8FB9;&amp;#x5F62;&amp;#x9762;&amp;#x79EF;&amp;#x8FC7;&amp;#x6EE4;&amp;#x6389;&amp;#x4E86;&amp;#x8FC7;&amp;#x5C0F;&amp;#x7684;&amp;#x591A;&amp;#x8FB9;&amp;#x5F62;&amp;#xFF1B;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x8FD8;&amp;#x5BF9;&amp;#x8FC7;&amp;#x4E8E;&amp;#x72ED;&amp;#x957F;&amp;#x7684;&amp;#x83F1;&amp;#x5F62;&amp;#x8FDB;&amp;#x884C;&amp;#x4E86;&amp;#x8FC7;&amp;#x6EE4;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x56DB;&amp;#x8FB9;&amp;#x5F62; &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;ABCD&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05017em;&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07153em;&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;D&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&amp;#xFF0C;&amp;#x5F53;&amp;#x4E14;&amp;#x4EC5;&amp;#x5F53; &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;{&lt;/mo&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;&amp;#x2220;&lt;/mi&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;&amp;#x2220;&lt;/mi&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mspace&gt;&lt;/mspace&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;&amp;#x2220;&lt;/mi&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;&amp;#x2061;&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;&amp;#x2220;&lt;/mi&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mo&gt;}&lt;/mo&gt;&lt;mo&gt;&amp;lt;&lt;/mo&gt;&lt;mn&gt;0.3&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;max\{\cos \angle A, \cos \angle B,\allowbreak \cos \angle C, \cos \angle D\}&amp;lt;0.3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;mop&#34;&gt;cos&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&amp;#x2220;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mop&#34;&gt;cos&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&amp;#x2220;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05017em;&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mspace allowbreak&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mop&#34;&gt;cos&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&amp;#x2220;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07153em;&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mop&#34;&gt;cos&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&amp;#x2220;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&amp;#xFF0C;&amp;#x8BE5;&amp;#x56DB;&amp;#x8FB9;&amp;#x5F62;&amp;#x624D;&amp;#x4F1A;&amp;#x88AB;&amp;#x6DFB;&amp;#x52A0;&amp;#x5230;&amp;#x7ED3;&amp;#x679C;&amp;#x5217;&amp;#x8868;&amp;#x91CC;&amp;#x3002;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x5177;&amp;#x4F53;&amp;#x5B9E;&amp;#x73B0;&amp;#x4EE3;&amp;#x7801;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&#34;highlight cpp&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt; ImgOperate::detectSquares() {&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ::&lt;span class=&#34;built_in&#34;&gt;std&lt;/span&gt;::&lt;span class=&#34;built_in&#34;&gt;vector&lt;/span&gt;&amp;lt;::&lt;span class=&#34;built_in&#34;&gt;std&lt;/span&gt;::&lt;span class=&#34;built_in&#34;&gt;vector&lt;/span&gt;&amp;lt;::cv::Point&amp;gt;&amp;gt; _squares;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ::&lt;span class=&#34;built_in&#34;&gt;std&lt;/span&gt;::&lt;span class=&#34;built_in&#34;&gt;vector&lt;/span&gt;&amp;lt;::&lt;span class=&#34;built_in&#34;&gt;std&lt;/span&gt;::&lt;span class=&#34;built_in&#34;&gt;vector&lt;/span&gt;&amp;lt;::cv::Point&amp;gt;&amp;gt; contours;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ::cv::Mat blurred(main_image.size(), CV_8UC3);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// &amp;#x4F7F;&amp;#x7528; ::cv::medianBlur &amp;#x53BB;&amp;#x566A;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ::cv::medianBlur(main_image, blurred, &lt;span class=&#34;number&#34;&gt;9&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ::cv::Mat gray0(blurred.size(), CV_8U), gray;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// &amp;#x5BF9;&amp;#x56FE;&amp;#x50CF;&amp;#x7684;&amp;#x6BCF;&amp;#x4E2A;&amp;#x901A;&amp;#x9053;&amp;#x8FDB;&amp;#x884C;&amp;#x4E00;&amp;#x6B21;&amp;#x8BC6;&amp;#x522B;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; c = &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;; c &amp;lt; &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;; c++) {&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; ch[] = { c, &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; };&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        ::cv::mixChannels(&amp;amp;blurred, &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;, &amp;amp;gray0, &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;, ch, &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; threshold_level = &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; l = &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;; l &amp;lt; threshold_level; l++) {&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (l == &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;) {&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &lt;span class=&#34;comment&#34;&gt;// &amp;#x8FB9;&amp;#x7F18;&amp;#x68C0;&amp;#x6D4B;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                ::cv::Canny(gray0, gray, &lt;span class=&#34;number&#34;&gt;10&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;20&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &lt;span class=&#34;comment&#34;&gt;// &amp;#x81A8;&amp;#x80C0;&amp;#x8FB9;&amp;#x7F18;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                ::cv::dilate(gray, gray, ::cv::Mat(), ::cv::Point(&lt;span class=&#34;number&#34;&gt;-1&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;-1&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            } &lt;span class=&#34;keyword&#34;&gt;else&lt;/span&gt; {&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                gray = gray0 &amp;gt;= (l + &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) * &lt;span class=&#34;number&#34;&gt;255&lt;/span&gt; / threshold_level;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;comment&#34;&gt;// &amp;#x8F6E;&amp;#x5ED3;&amp;#x63A2;&amp;#x6D4B;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            ::cv::findContours(gray, contours, CV_RETR_LIST, CV_CHAIN_APPROX_SIMPLE);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;comment&#34;&gt;// &amp;#x6D4B;&amp;#x8BD5;&amp;#x627E;&amp;#x5230;&amp;#x7684;&amp;#x8F6E;&amp;#x5ED3;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            ::&lt;span class=&#34;built_in&#34;&gt;std&lt;/span&gt;::&lt;span class=&#34;built_in&#34;&gt;vector&lt;/span&gt;&amp;lt;::cv::Point&amp;gt; approx;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;size_t&lt;/span&gt; i = &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;; i &amp;lt; contours.size(); i++) {&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &lt;span class=&#34;comment&#34;&gt;// &amp;#x591A;&amp;#x8FB9;&amp;#x5F62;&amp;#x62DF;&amp;#x5408;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                ::cv::approxPolyDP(::cv::Mat(contours[i]), approx, ::cv::arcLength(::cv::Mat(contours[i]), &lt;span class=&#34;literal&#34;&gt;true&lt;/span&gt;)*&lt;span class=&#34;number&#34;&gt;0.02&lt;/span&gt;, &lt;span class=&#34;literal&#34;&gt;true&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &lt;span class=&#34;comment&#34;&gt;// &amp;#x77E9;&amp;#x5F62;&amp;#x5224;&amp;#x65AD;&amp;#x57FA;&amp;#x672C;&amp;#x6761;&amp;#x4EF6;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (approx.size() == &lt;span class=&#34;number&#34;&gt;4&lt;/span&gt; &amp;amp;&amp;amp;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &lt;span class=&#34;built_in&#34;&gt;fabs&lt;/span&gt;(::cv::contourArea(::cv::Mat(approx))) &amp;gt; &lt;span class=&#34;number&#34;&gt;1000&lt;/span&gt; &amp;amp;&amp;amp;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    ::cv::isContourConvex(::cv::Mat(approx))) {&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &lt;span class=&#34;comment&#34;&gt;// &amp;#x8FC7;&amp;#x6EE4;&amp;#x72ED;&amp;#x957F;&amp;#x83F1;&amp;#x5F62;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &lt;span class=&#34;keyword&#34;&gt;double&lt;/span&gt; maxCosine = &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; j = &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;; j &amp;lt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;; j++) {&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        &lt;span class=&#34;keyword&#34;&gt;double&lt;/span&gt; cosine = &lt;span class=&#34;built_in&#34;&gt;fabs&lt;/span&gt;(angle(approx[j % &lt;span class=&#34;number&#34;&gt;4&lt;/span&gt;], approx[j - &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;], approx[j - &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;]));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        maxCosine = MAX(maxCosine, cosine);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    }&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (maxCosine &amp;lt; &lt;span class=&#34;number&#34;&gt;0.3&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        _squares.push_back(approx);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                }&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            }&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        }&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    }&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/*Some Other Code*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;}&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

</article>

<div id="paginator">
  
</div>

  </div>
</div>

<div id="bottom-outer">
  <div id="footer">
      Copyright © 2019 Tsuki. Powered by Hexo and <a href="https://github.com/imtsuki/hexo-theme-shiro">Shiro</a>.
  </div>
</div>


  <!-- scripts list from theme config.yml -->
  
    <script src="/js/shiro.js"></script>
  


</body>
</html>
