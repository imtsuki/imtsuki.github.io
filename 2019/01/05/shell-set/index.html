


<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="HandheldFriendly" content="true">
  
    <meta name="google-site-verification" content="Sf3TQAKc2EfeBR3ltsbYlbX06bHJ4-QbsC_7Jko3zZ8">
  
  
    <meta name="baidu-site-verification" content="lkLxPcUTqE">
  
  <script>
  (function(d) {
    var config = {
      kitId: 'xoy5jfw',
      scriptTimeout: 3000,
      async: true
    },
    h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
  })(document);
  </script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-128956609-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-128956609-1');
</script>



  <title>Shell 之道 | ツキの月</title>
  
    <!-- stylesheets list from _config.yml -->
    
      <link rel="stylesheet" href="/css/shiro.css">
    
      <link rel="stylesheet" href="/css/layout.css">
    
      <link rel="stylesheet" href="/css/post.css">
    
      <link rel="stylesheet" href="/css/content.css">
    
      <link rel="stylesheet" href="/css/highlight.css">
    
      <link rel="stylesheet" href="/lib/soraka/soraka.css">
    
      <link rel="stylesheet" href="/lib/typo.css/typo.css">
    
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
</head>
<body class="serif">

<div id="header">
  <a href="/">
    <div id="title">
      <h1>ツキの月</h1>
    </div>
  </a>
</div>

<div id="menu-outer">
  <div id="menu-inner">
    
      <a href="/">Blog</a>
    
      <a href="/about">About</a>
    
  </div>
</div>

<div id="content-outer">
  <div id="content-inner" class="content typo">
    
<article id="post">
<header>
  <h1>Shell 之道</h1>
  <div class="meta">
  <span class="page-date">
  <time datetime="2019-01-05T07:24:52.000Z">
            2019-01-05
  </time>
  </span>
  
  <span class="tag-link">
        <a href="/tags/Shell/">
          #Shell
        </a>
  </span>
      
  </div>
</header>
  <h2 id="set">&gt; set</h2>
<p><code>set</code> &#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x5B9A;&#x5236; shell &#x7684;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x3002;</p>
<p>&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF0C;&#x5E38;&#x5E38;&#x653E;&#x5728; shell &#x811A;&#x672C;&#x7684;&#x524D;&#x9762;&#xFF1A;</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">set</span> -euxo pipefail</span><br></pre></td></tr></table></figure>
<p>&#x6BCF;&#x4E2A;&#x53C2;&#x6570;&#x5206;&#x522B;&#x6709;&#x5982;&#x4E0B;&#x6548;&#x679C;&#x3002;</p>
<h3 id="set--e"><code>set -e</code></h3>
<p>&#x811A;&#x672C;&#x6267;&#x884C;&#x4E2D;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x65F6;&#xFF0C;&#x7ACB;&#x5373;&#x7EC8;&#x6B62;&#x811A;&#x672C;&#x7684;&#x6267;&#x884C;&#x3002;</p>
<h3 id="set--u"><code>set -u</code></h3>
<p>&#x5F53;&#x811A;&#x672C;&#x6267;&#x884C;&#x4E2D;&#x9047;&#x5230;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x53D8;&#x91CF;&#x65F6;&#xFF0C;&#x62A5;&#x9519;&#x5E76;&#x7EC8;&#x6B62;&#x6267;&#x884C;&#x3002;</p>
<h3 id="set--o-pipefail"><code>set -o pipefail</code></h3>
<p>&#x5982;&#x679C;&#x5728;&#x7BA1;&#x9053;&#x547D;&#x4EE4;&#x4E2D;&#xFF0C;&#x524D;&#x51E0;&#x4E2A;&#x547D;&#x4EE4;&#x62A5;&#x9519;&#xFF0C;&#x4F46;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x6B63;&#x786E;&#xFF0C;&#x90A3;&#x4E48; <code>set -e</code> &#x5C31;&#x4E0D;&#x80FD;&#x8BA9;&#x811A;&#x672C;&#x505C;&#x6B62;&#x6267;&#x884C;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x5229;&#x7528; <code>set -o pipefail</code>&#xFF0C;&#x5C31;&#x53EF;&#x8BA9;&#x7BA1;&#x9053;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x9519;&#x8BEF;&#x65F6;&#xFF0C;&#x811A;&#x672C;&#x4E5F;&#x4F1A;&#x505C;&#x6B62;&#x6267;&#x884C;&#x3002;</p>
<h3 id="set--x"><code>set -x</code></h3>
<p>&#x6253;&#x5F00;&#x547D;&#x4EE4;&#x7684;&#x56DE;&#x663E;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x4E0B;&#x811A;&#x672C;</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">set</span> -x</span><br><span class="line"><span class="built_in">echo</span> foobar</span><br></pre></td></tr></table></figure>
<p>&#x5C06;&#x4F1A;&#x4EA7;&#x751F;&#x5982;&#x4E0B;&#x8F93;&#x51FA;</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ bash script.sh</span><br><span class="line">+ <span class="built_in">echo</span> foobar</span><br><span class="line">foobar</span><br></pre></td></tr></table></figure>

</article>

<div id="paginator">
  
</div>

  </div>
</div>

<div id="bottom-outer">
  <div id="footer">
      Copyright © 2019 Tsuki. Powered by Hexo and <a href="https://github.com/imtsuki/hexo-theme-shiro">Shiro</a>.
  </div>
</div>


  <!-- scripts list from theme config.yml -->
  
    <script src="/js/shiro.js"></script>
  


</body>
</html>
